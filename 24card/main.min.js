!function(){var e=e=>document.getElementById(e);const u=e("input"),c=e("target");var n=e("button");const s=e("time"),a=e("output");function i(e){e.innerHTML="请输入正确的格式！"}function o(e){switch(e){case"a":return 1;case"j":return 11;case"q":return 12;case"k":return 13;default:return+e}}function f(e,n,t){switch(t){case 0:return e+n;case 1:return e*n;case 2:return e-n;case 3:return e/n}}function l(e){switch(e){case 0:return"+";case 1:return"*";case 2:return"-";case 3:return"/"}}n.onclick=function(){var e=u.value.trim().toLowerCase();let n;if(4===e.length){if((n=e.split("").map(o)).includes(NaN))return void i(a)}else if((n=e.split(/\s+|,/).map(o)).includes(NaN)||4!==n.length)return void i(a);var e=Date.now(),t=Number(c.value),t=function(t,r){var e=function e(t){if(1===t.length)return[t];const r=[];e:for(let n=0;n<t.length;n++){for(let e=0;e<n;e++)if(t[n]===t[e])continue e;const u=[...t],c=u.splice(n,1),s=e(u);for(const a of s)r.push([...c,...a])}return r}(t),u=[];for(const t of e)for(let n=0;n<64;n++)for(let e=0;e<5;e++){var c=[3&n,(12&n)>>2,n>>4];!function(e,n){return Math.abs(e-n)<1e-7}(function([e,n,t,r],[u,c,s],a){switch(a){case 0:return f(f(e,n,u),f(t,r,s),c);case 1:return f(f(f(e,n,u),t,c),r,s);case 2:return f(f(e,f(n,t,c),u),r,s);case 3:return f(e,f(f(n,t,c),r,s),u);case 4:return f(e,f(n,f(t,r,s),c),u)}}(t,c,e),r)||u.push(function([e,n,t,r],[u,c,s],a){var i=l(u),o=l(c),f=l(s);switch(a){case 0:return"("+e+i+n+")"+o+"("+t+f+r+")";case 1:return"(("+e+i+n+")"+o+t+")"+f+r;case 2:return"("+e+i+"("+n+o+t+"))"+f+r;case 3:return e+i+"(("+n+o+t+")"+f+r+")";case 4:return e+i+"("+n+o+"("+t+f+r+"))"}}(t,c,e)+" = "+r)}return u}(n,t),r=Date.now();s.innerHTML=(r-e)/1e3+" 秒",t.length?a.innerHTML=t.length+" 个结果<br />"+t.join("<br />"):a.innerHTML="无结果"}}();