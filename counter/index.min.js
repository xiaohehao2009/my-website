let s=window.localStorage;try{if(s.setItem("test","test-65535"),"test-65535"!==s.getItem("test"))throw new Error("无效存储");s.removeItem("test")}catch(t){s={getItem:function(t){return s.obj[t]},setItem:function(t,e){s.obj[t]!==e&&(s.obj[t]=e)},obj:{}}}const count=document.getElementById("count"),button=document.getElementById("button");count.innerHTML=s.getItem("count")||0,button.onclick=function(){let t=s.getItem("count")||0;t++,s.setItem("count",t),count.innerHTML=t};